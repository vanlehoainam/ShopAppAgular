<!-- src/app/pages/admin/product.component.html -->
<div class="container">
    <h2>Quản lý sản phẩm</h2>

    <form [formGroup]="productForm" (ngSubmit)="saveProduct()">
        <div class="form-group">
            <label for="name">Tên sản phẩm</label>
            <input type="text" id="name" formControlName="name" class="form-control" placeholder="Nhập tên sản phẩm">
            <div *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched" class="text-danger">
                Tên sản phẩm là bắt buộc.
            </div>
        </div>

        <div class="form-group">
            <label for="price">Giá</label>
            <input type="number" id="price" formControlName="price" class="form-control"
                placeholder="Nhập giá sản phẩm">
            <div *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched" class="text-danger">
                Giá sản phẩm là bắt buộc.
            </div>
        </div>

        <div class="form-group">
            <label for="img">Ảnh</label>
            <input type="text" id="img" formControlName="img" class="form-control" placeholder="Nhập đường dẫn ảnh">
        </div>

        <div class="form-group">
            <label for="quantity">Số lượng</label>
            <input type="number" id="quantity" formControlName="quantity" class="form-control"
                placeholder="Nhập số lượng">
            <div *ngIf="productForm.get('quantity')?.invalid && productForm.get('quantity')?.touched"
                class="text-danger">
                Số lượng sản phẩm là bắt buộc.
            </div>
        </div>

        <div class="form-group">
            <label for="description">Mô tả</label>
            <textarea id="description" formControlName="description" class="form-control"
                placeholder="Nhập mô tả"></textarea>
        </div>

        <div class="form-group">
            <label for="note">Ghi chú</label>
            <textarea id="note" formControlName="note" class="form-control" placeholder="Nhập ghi chú"></textarea>
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">
            {{ editingProductId ? 'Cập nhật' : 'Thêm mới' }}
        </button>
        <button type="button" class="btn btn-secondary" (click)="resetForm()">Đặt lại</button>
    </form>

    <hr>

    <h3>Danh sách sản phẩm</h3>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Tên sản phẩm</th>
                <th>Giá</th>
                <th>Số lượng</th>
                <th>Hành động</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let product of productList">
                <td>{{ product.id }}</td>
                <td>{{ product.name }}</td>
                <td>{{ product.price }}</td>
                <td>{{ product.quantity }}</td>
                <td>
                    <button class="btn btn-info" (click)="editProduct(product)">Chỉnh sửa</button>
                    <button class="btn btn-danger" (click)="deleteProduct(product.id)">Xóa</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>