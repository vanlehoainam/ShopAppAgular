<div>
    <h2>User List</h2>
    <div>
        <button (click)="showCreateForm()">Create New User</button>
    </div>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Full Name</th>
                <th>Username</th>
                <th>Email</th>
                <th>Role</th>
                <th>Phone</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of userList">
                <td>{{ user.id }}</td>
                <td>{{ user.fullName }}</td>
                <td>{{ user.userName }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.role }}</td>
                <td>{{ user.phone }}</td>
                <td>
                    <button (click)="editUser(user)">Edit</button>
                    <button (click)="deleteUser(user.id)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Form chỉnh sửa người dùng -->
    <div *ngIf="editingUserId !== null && showForm">
        <h3>Chỉnh sửa người dùng</h3>
        <form [formGroup]="editForm" (ngSubmit)="saveUser()">
            <label for="fullName">Họ và tên:</label>
            <input id="fullName" formControlName="fullName" />

            <label for="username">Tên đăng nhập:</label>
            <input id="username" formControlName="username" />

            <label for="email">Email:</label>
            <input id="email" formControlName="email" />

            <label for="phone">Số điện thoại:</label>
            <input id="phone" formControlName="phone" />

            <label for="role">Vai trò:</label>
            <input id="role" formControlName="role" />

            <label for="password">Mật khẩu:</label>
            <input id="password" formControlName="password" type="password" placeholder="Để trống nếu không thay đổi" />

            <button type="submit">Lưu</button>
            <button type="button" (click)="cancel()">Hủy</button>
        </form>
    </div>

    <!-- Form tạo người dùng -->
    <div *ngIf="editingUserId === null && showForm">
        <h3>Create User</h3>
        <form [formGroup]="createForm" (ngSubmit)="createUser()">
            <label for="fullName">Full Name:</label>
            <input id="fullName" formControlName="fullName" />

            <label for="username">Username:</label>
            <input id="username" formControlName="username" />

            <label for="email">Email:</label>
            <input id="email" formControlName="email" />

            <label for="role">Role:</label>
            <input id="role" formControlName="role" />

            <label for="phone">Phone:</label>
            <input id="phone" formControlName="phone" />

            <label for="password">Password:</label>
            <input id="password" formControlName="password" type="password" />

            <button type="submit">Create</button>
            <button type="button" (click)="cancel()">Cancel</button>
        </form>
    </div>
</div>